<!DOCTYPE html>
<html lang="en">
<head>
  <title>Michelle iShare's Barcode Generator</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-3 text-center">
  <h1>Michelle iShare</h1>    
  <p>Member Number&ensp; X&ensp; Barcode Generator</p>
  <img id="barcode">
</div>

<div class="container mt-3 text-center">
<div class="row align-items-start">
  <div class="col-md-4">
  </div>
  <div class="col-md-4">	
    <div class="form-outline">
      <input min="0" max="999999" type="number" id="typeNumber" class="form-control" placeholder='enter your member number'/>
      <br>
      <button id='btnSummit'type="submit" class="btn btn-primary">Submit</button>
      <button id='btnClear'type="reset" class="btn btn-primary">Clear</button>
    </div>
  </div>
  <div class="col-md-4">
  </div>
</div>  
</div>

<script type="text/javascript">

var btnSummit = document.getElementById("btnSummit");
btnSummit.addEventListener("click", function (event) {
  var number = document.getElementById("typeNumber").value
  
  if (number < 0 || number > 999999)
  {
  	alert("無效的會員編號");
    return;
  }
  
  var paddedNum = String(number).padStart(6, '0'); 
  var src = "http://bwipjs-api.metafloor.com/?bcid=code128&text="+ paddedNum + "&includetext"
  document.getElementById("barcode").setAttribute('src', src)
  document.getElementById("barcode").style.display = "inline";
  
});

var btnClear = document.getElementById("btnClear");
btnClear.addEventListener("click", function (event) {
  document.getElementById("typeNumber").value = "";
  document.getElementById("barcode").style.display = "none";  
});

</script>
</body>
</html>